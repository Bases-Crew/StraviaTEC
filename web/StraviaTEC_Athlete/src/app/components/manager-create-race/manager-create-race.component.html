<form (ngSubmit)="onSubmit()">
  <!-- Race Details -->
  <div class="form-group">
    <label for="raceName">Nombre del Evento</label>
    <input
      type="text"
      id="raceName"
      [(ngModel)]="rname"
      class="form-control"
      name="rname"
    />
  </div>
  <div class="form-group">
    <label for="racePrice">Precio</label>
    <input
      type="number"
      id="racePrice"
      [(ngModel)]="price"
      class="form-control"
      name="price"
    />
  </div>
  <div class="form-group">
    <label for="raceDate">Fecha de Evento</label>
    <input
      type="date"
      id="raceDate"
      [(ngModel)]="rdate"
      class="form-control"
      name="rdate"
    />
  </div>
  <div class="form-group">
    <label for="raceRoute">Ruta de Evento (.gpx)</label>
    <input
      type="file"
      id="raceRoute"
      (change)="onFileChange($event)"
      class="form-control"
      name="rroute"
    />
  </div>

  <!-- Privacy Toggle -->
  <div class="form-group form-check">
    <input
      type="checkbox"
      id="privateRace"
      [(ngModel)]="pid"
      class="form-check-input"
      name="pid"
    />
    <label for="privateRace" class="form-check-label">Evento Privado</label>
  </div>

  <!-- Sport Type Dropdown -->
  <div class="form-group">
    <label for="sportType">Deporte</label>
    <select
      id="sportType"
      [(ngModel)]="sptid"
      class="form-control"
      name="sptid"
    >
      <option *ngFor="let sport of sports" [value]="sport.SportName">
        {{ sport.SportName }}
      </option>
    </select>
  </div>

  <!-- Bank Accounts -->
  <div class="form-group">
    <label for="bankAccounts">Cuentas Bancarias</label>
    <div
      class="d-flex align-items-center mb-2"
      *ngFor="let account of bankAccounts; let i = index"
    >
      <span class="mr-2">{{ account }}</span>
      <button
        type="button"
        class="btn btn-danger btn-sm"
        (click)="removeBankAccount(i)"
      >
        Remove
      </button>
    </div>
    <div class="input-group mb-3">
      <input
        type="number"
        id="bankAccounts"
        [(ngModel)]="bankAccountInput"
        class="form-control"
        name="bankAccountInput"
      />
      <div class="input-group-append">
        <button
          class="btn btn-outline-secondary"
          type="button"
          (click)="addBankAccount(bankAccountInput)"
        >
          Add
        </button>
      </div>
    </div>
  </div>

  <!-- Sponsors -->
  <div class="form-group">
    <label for="sponsors">Patrocinadores</label>
    <div
      class="d-flex align-items-center mb-2"
      *ngFor="let sponsor of addedSponsors; let i = index"
    >
      <span class="mr-2">{{ sponsor }}</span>
      <button
        type="button"
        class="btn btn-danger btn-sm"
        (click)="removeSponsor(i)"
      >
        Remove
      </button>
    </div>
    <div class="input-group mb-3">
      <select
        id="sponsors"
        [(ngModel)]="selectedSponsor"
        class="form-control"
        name="selectedSponsor"
      >
        <option *ngFor="let sponsor of sponsors" [value]="sponsor.name">
          {{ sponsor.name }}
        </option>
      </select>
      <div class="input-group-append">
        <button
          class="btn btn-outline-secondary"
          type="button"
          (click)="addSponsor()"
        >
          Add
        </button>
      </div>
    </div>
  </div>

  <!-- Groups (Conditional) -->
  <div *ngIf="pid" class="form-group">
    <label for="groups">Groups</label>
    <div
      class="d-flex align-items-center mb-2"
      *ngFor="let group of addedGroups; let i = index"
    >
      <span class="mr-2">{{ group }}</span>
      <button
        type="button"
        class="btn btn-danger btn-sm"
        (click)="removeGroup(i)"
      >
        Remove
      </button>
    </div>
    <div class="input-group mb-3">
      <select
        id="groups"
        [(ngModel)]="selectedGroup"
        class="form-control"
        name="selectedGroup"
      >
        <option *ngFor="let group of groups" [value]="group.name">
          {{ group.name }}
        </option>
      </select>
      <div class="input-group-append">
        <button
          class="btn btn-outline-secondary"
          type="button"
          (click)="addGroup()"
        >
          Add
        </button>
      </div>
    </div>
  </div>

  <button type="submit" class="btn btn-primary">Crear</button>
</form>
